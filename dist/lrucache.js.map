{"version":3,"sources":["webpack:///webpack/bootstrap 621b143bc4999ae5f3a4","webpack:///./src/LRUCache.js"],"names":["MinPQ","comparator","pq","qp","values","N","clone","i","length","push","Object","assign","key","value","swim","pos","cmp","sink","add","undefined","exchange","k","parent","Math","floor","child","j","temp","LRUCache","maxCapacity","counter","a","b","time","containsKey","result","get","update","newValue","put","size","remove","deepCopy"],"mappings":"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","file":"lrucache.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 621b143bc4999ae5f3a4","export class MinPQ {\r\n    constructor(comparator) {\r\n        this.comparator = comparator;\r\n        this.pq = [null];\r\n        this.qp = {};\r\n        this.values = {};\r\n        this.N = 0;\r\n    }\r\n    \r\n    deepCopy() {\r\n        let clone = new MinPQ(this.comparator);\r\n        \r\n        clone.pq = [];\r\n        clone.qp = {};\r\n        clone.values = {};\r\n        clone.N = this.N;\r\n        for(var i=0; i < this.pq.length; ++i) {\r\n            \r\n            clone.pq.push(this.pq[i]);\r\n            clone.qp[this.pq[i]] = this.qp[this.pq[i]];\r\n            clone.values[this.pq[i]] = Object.assign({}, this.values[this.pq[i]]);\r\n        }\r\n        \r\n        \r\n        return clone;\r\n    }\r\n    \r\n    add(key, value) {\r\n        if(!value) value = key;\r\n        this.values[key] = value;\r\n        if(this.pq.length < this.N+1) {\r\n            this.pq.push(null);\r\n        }\r\n        this.N += 1;\r\n        \r\n        this.pq[this.N] = key;\r\n        this.qp[key] = this.N;\r\n        \r\n        this.swim(this.N);\r\n    }\r\n    \r\n    put(key, value) {\r\n        if(key in this.values) {\r\n            let pos = this.qp[key];\r\n            let cmp = this.comparator(this.values[key], value);\r\n            if(cmp < 0) {\r\n                this.values[key] = value;\r\n                this.sink(pos);\r\n            } else if(cmp > 0) {\r\n                this.values[key] = value;\r\n                this.swim(pos);\r\n            }\r\n        } else {\r\n            this.add(key, value);\r\n        }\r\n    }\r\n    \r\n    get(key) {\r\n        return this.values[key];\r\n    }\r\n    \r\n    containsKey(key) {\r\n        return (key in this.values);\r\n    }\r\n    \r\n    size() {\r\n        return this.N;\r\n    }\r\n    \r\n    isEmpty() {\r\n        return this.N == 0;\r\n    }\r\n    \r\n    remove() {\r\n        if(this.N == 0) {\r\n            return { key: undefined, value: undefined };\r\n        }\r\n        let key = this.pq[1];\r\n        let value = this.values[key];\r\n        delete this.values[key];\r\n        \r\n        this.exchange(1, this.N);\r\n        this.N -= 1;\r\n        this.sink(1);\r\n        return {key: key, value: value};\r\n    }\r\n    \r\n    peek() {\r\n        if(this.N == 0) {\r\n            return undefined;\r\n        }\r\n        return { key: this.pq[1], value: this.values[this.pq[1]] };\r\n    }\r\n    \r\n    swim(k) {\r\n        while(k > 1) {\r\n            let parent = Math.floor(k / 2);\r\n            if(this.comparator(this.values[this.pq[parent]], this.values[this.pq[k]]) > 0) {\r\n                this.exchange(parent, k);\r\n                k = parent;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    sink(k) {\r\n        while(k * 2 <= this.N) {\r\n            let child = k * 2;\r\n            if(child < this.N && this.comparator(this.values[this.pq[child+1]], this.values[this.pq[child]]) < 0) {\r\n                child += 1;\r\n            } \r\n            if(this.comparator(this.values[this.pq[child]], this.values[this.pq[k]]) < 0) {\r\n                this.exchange(child, k);\r\n                k = child;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    \r\n    exchange(i, j) {\r\n        let temp = this.pq[i];\r\n        this.pq[i] = this.pq[j];\r\n        this.pq[j] = temp;\r\n        \r\n        this.qp[this.pq[i]] = i;\r\n        this.qp[this.pq[j]] = j;\r\n    }\r\n}\r\n\r\nclass LRUCache {\r\n    constructor(maxCapacity) {\r\n        this.maxCapacity = maxCapacity;\r\n        this.counter = 0;\r\n        this.pq = new MinPQ((a, b) => a.time - b.time);\r\n    }\r\n    \r\n    get(key) {\r\n        if(this.pq.containsKey(key)) {\r\n            let result = this.pq.get(key);\r\n\t\t\tthis.update(key);\r\n\t\t\treturn result;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n    \r\n    update(key) {\r\n        if(this.pq.containsKey(key)) {\r\n            let value = this.pq.get(key);\r\n            this.counter += 1;\r\n            let newValue = Object.assign({}, value, { time: this.counter });\r\n            this.pq.put(key, newValue);\r\n            delete value.time;\r\n            return value;\r\n        }\r\n    }\r\n    \r\n    containsKey(key) {\r\n        return this.pq.containsKey(key);\r\n    }\r\n    \r\n    put(key, value) {\r\n        this.counter += 1;\r\n        let newValue = Object.assign({}, value, { time: this.counter });\r\n        this.pq.put(key, newValue);\r\n        if(this.pq.size() > this.maxCapacity) {\r\n            this.pq.remove();\r\n        }\r\n    }\r\n    \r\n    size() {\r\n        return this.pq.size();\r\n    }\r\n    \r\n    deepCopy() {\r\n        let clone = new LRUCache();\r\n        clone.maxCapacity = this.maxCapacity;\r\n        clone.counter = this.counter;\r\n        clone.pq = this.pq.deepCopy();\r\n        return clone;\r\n    }\r\n    \r\n    copy() {\r\n        let clone = new LRUCache();\r\n        clone.maxCapacity = this.maxCapacity;\r\n        clone.counter = this.counter;\r\n        clone.pq = this.pq;\r\n        return clone;\r\n    }\r\n}\r\n\r\nexport default LRUCache;\n\n\n// WEBPACK FOOTER //\n// ./src/LRUCache.js"],"sourceRoot":""}